<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://unpkg.com/pdf-lib@1.4.0"></script>
    <script src="https://unpkg.com/downloadjs@1.4.7"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/bootstrap.min.css">


</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-6 my-3">
                <img class="img-fluid" width="100"
                    src="https://thecorner.cat/wp-content/uploads/2021/07/Sello-sin-lletres.png" alt="">
            </div>
            <div class="col-12">
                <h1 class="mb-4">Anexo 1. Solicitud de participación en una acción formativa</h1>

                <form class="row g-3 needs-validation" novalidate>
                    <div class="col-md-4">
                        <label for="validationCustom01" class="form-label">Nombre de la entidad solicitante</label>
                        <input type="text" class="form-control" id="validationCustom01" value="" required>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                        <div class="invalid-feedback">
                            Escriba un nombre.
                        </div>
                    </div>
                    <form class="row g-3 needs-validation" novalidate>
                        <div class="col-md-4">
                            <label for="validationCustom02" class="form-label">Num expediente</label>
                            <input type="text" class="form-control" id="validationCustom02" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Escriba un nombre.
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="validationCustom03" class="form-label">Denominacion de la accion
                                formativa</label>
                            <input type="text" class="form-control" id="validationCustom03" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Escriba un apellido.
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="validationCustom04" class="form-label">Num de la accion formativa</label>
                            <input type="text" class="form-control" id="validationCustom04" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Escriba un apellido.
                            </div>
                        </div>
                        <h2 class="mb-4">Datos del trabajador/a participante</h2>

                        <form class="row g-3 needs-validati" novalidate>
                            <div class="col-md-4">
                                <label for="validationCustom01" class="form-label">Nombre de la entidad
                                    solicitante</label>
                                <input type="text" class="form-control" id="validationCustom01" value="" required>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                                <div class="invalid-feedback">
                                    Escriba un nombre.
                                </div>
                            </div>
                            <form class="row g-3 needs-validation" novalidate>
                                <div class="col-md-4">
                                    <label for="validationCustom01" class="form-label">Num expediente</label>
                                    <input type="text" class="form-control" id="validationCustom01" value="" required>
                                    <div class="valid-feedback">
                                        Looks good!
                                    </div>
                                    <div class="invalid-feedback">
                                        Escriba un nombre.
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label for="validationCustom02" class="form-label">Denominacion de la accion
                                        formativa</label>
                                    <input type="text" class="form-control" id="validationCustom02" value="" required>
                                    <div class="valid-feedback">
                                        Looks good!
                                    </div>
                                    <div class="invalid-feedback">
                                        Escriba un apellido.
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label for="validationCustom02" class="form-label">Num de la accion
                                        formativa</label>
                                    <input type="text" class="form-control" id="validationCustom02" value="" required>
                                    <div class="valid-feedback">
                                        Looks good!
                                    </div>
                                    <div class="invalid-feedback">
                                        Escriba un apellido.
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label for="validationCustomUsername" class="form-label">Correo
                                        electrónico</label>
                                    <div class="input-group has-validation">
                                        <span class="input-group-text" id="inputGroupPrepend">@</span>
                                        <input type="text" class="form-control" id="validationCustomUsername"
                                            aria-describedby="inputGroupPrepend" required>
                                        <div class="invalid-feedback">
                                            Elija un nombre de usuario o correo electrónico.
                                        </div>

                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label for="validationCustom03" class="form-label">Ciudad</label>
                                    <input type="text" class="form-control" id="validationCustom03" required>
                                    <div class="invalid-feedback">
                                        Por favor, una ciudad válida.
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label for="validationCustom04" class="form-label">Provincia</label>
                                    <select class="form-select" id="validationCustom04" required>
                                        <option selected disabled value=""></option>
                                        <option>...</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Por favor, una provincia válida.
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label for="validationCustom05" class="form-label">Codigo Postal</label>
                                    <input type="text" class="form-control" id="validationCustom05" required>
                                    <div class="invalid-feedback">
                                        Por favor, un código postal válido.
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <p>A traves de quien conociste el curso?</p>
                                    <div class="form-floating">
                                        <select class="form-select" id="floatingSelect"
                                            aria-label="Floating label select example">
                                            <option selected>Escoje una opcion</option>
                                            <option value="1">Oficina de trabajo (OT)</option>
                                            <option value="2">Buscador de cursos del SOC</option>
                                            <option value="3">Twitter del consorci @fpo_continua</option>
                                            <option value="4">Web del Consorci: conforcat.gencat.cat</option>
                                            <option value="5">Web: fp.gencat.cat</option>
                                            <option value="6">Twitter de Ocupacion @ocupaciocat</option>
                                            <option value="7">Entidad de Formacion LinkedIn</option>
                                            <option value="8">Amigos, amigas o familiares</option>
                                            <option value="9">Agentes economicos y sociales</option>
                                            <option value="10">Otros</option>
                                            <option value="11">Empresa</option>
                                            <option value="12">Prensa, radio, television (medios comunicacion)
                                            </option>
                                        </select>
                                        <label for="floatingSelect">Seleccione</label>
                                    </div>
                                    <p>Interes en participar en la ocupacion formativa</p>
                                    <div class="col-12">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="invalidCheck"
                                                required>
                                            <label class="form-check-label" for="invalidCheck">
                                                Autorizo al Consorcio para la Formación Continua de Cataluña a
                                                utilizar mis datos personales
                                                para recibir información sobre la
                                                formación
                                            </label>
                                            <div class="invalid-feedback">
                                                Debe estar de acuerdo antes de enviar.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                </class>
                            </form>
                            <h2 class="mb-4">Entidad o empresa donde trabaja actualmente (solo ocupados / as)</h2>

                            <p>Empresa con mas de 250 empleados?</p>

                            <div class="form-check-inline">
                                <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="1">
                                <label class="form-check-label" for="inlineCheckbox1">Si</label>
                            </div>
                            <div class="form-check-inline">
                                <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="2">
                                <label class="form-check-label" for="inlineCheckbox2">No</label>
                            </div>

                        </form>
                    </form>
            </div>
        </div>

        <form class="row g-3 needs-validation" novalidate>
            <div class="col-md-4">
                <label for="validationCustom01" class="form-label">Razon Social</label>
                <input type="text" class="form-control" id="validationCustom01" value="" required>
                <div class="valid-feedback">
                    Looks good!
                </div>
                <div class="invalid-feedback">
                    Escriba un nombre.
                </div>
            </div>
            <form class="row g-3 needs-validation" novalidate>
                <div class="col-md-4">
                    <label for="validationCustom01" class="form-label">Sector</label>
                    <input type="text" class="form-control" id="validationCustom01" value="" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        Escriba un nombre.
                    </div>
                </div>
                <div class="col-md-4">
                    <label for="validationCustom02" class="form-label">Convenio de referencia</label>
                    <input type="text" class="form-control" id="validationCustom02" value="" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        Escriba un apellido.
                    </div>
                </div>
                <div class="col-md-4">
                    <label for="validationCustom02" class="form-label">CIF</label>
                    <input type="text" class="form-control" id="validationCustom02" value="" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        Escriba un apellido.
                    </div>
                </div>
                <div class="col-md-4">
                    <label for="validationCustom01" class="form-label">Núm. de inscripción en la Seguridad Social
                    </label>
                    <input type="text" class="form-control" id="validationCustom01" value="" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        Escriba un nombre.
                    </div>
                </div>
                <form class="row g-3 needs-validation" novalidate>
                    <div class="col-md-4">
                        <label for="validationCustom01" class="form-label">Nº. de trabajadores</label>
                        <input type="text" class="form-control" id="validationCustom01" value="" required>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                        <div class="invalid-feedback">
                            Escriba un nombre.
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="validationCustom02" class="form-label">Dirección del centro de trabajo</label>
                        <input type="text" class="form-control" id="validationCustom02" value="" required>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                        <div class="invalid-feedback">
                            Escriba un apellido.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="validationCustom03" class="form-label">Comarca</label>
                        <input type="text" class="form-control" id="validationCustom03" required>
                        <div class="invalid-feedback">
                            Por favor, una ciudad válida.
                        </div>
                    </div>
                    <div class="col-md-3">
                        <label for="validationCustom04" class="form-label">Poblacion</label>
                        <select class="form-select" id="validationCustom04" required>
                            <option selected disabled value=""></option>
                            <option>...</option>
                        </select>
                        <div class="invalid-feedback">
                            Por favor, una provincia válida.
                        </div>
                    </div>
                    <div class="col-md-3">
                        <label for="validationCustom05" class="form-label">Codigo Postal</label>
                        <input type="text" class="form-control" id="validationCustom05" required>
                        <div class="invalid-feedback">
                            Por favor, un código postal válido.
                        </div>
                    </div>

                    <label for="name">Firma electronica:</label>

                    <input type="text" id="name" name="name" required minlength="4" maxlength="8" size="10">

                    <input type="date">

                    <p>Protección de datos: a los efectos previstos a la Ley Orgánica 3/2018, de 5 de diciembre, de
                        Protección de Datos Personales ygarantía de los derechos digitales, y al Reglamento (UE)
                        2016/679 del Parlamento Europeo y del consejo de 27 de abril de 2016, relativo a la
                        protección de los personas físicas respecto al tratamiento de datos personales y a la libre
                        circulación de estos datos y por el cual sederoga la Directiva 95/46/CE (Reglamento general
                        de protección de datos) y la Ley Orgánica 15/1999, de 13 de diciembre, de protección de
                        datos de carácter personal, y su Reglamento de despliegue, aprobado por el Real Decreto
                        1720/2007, de 21 de diciembre, se informa la persona interesada que los datos personales
                        consignados en este documento se incorporaran al fichero automatizado del Consorcio para la
                        Formación Continua de Cataluña, “Contratos programa y Convenios para la Formación Continua”,
                        con el fin de gestionar y tratar los datos correspondientes. Asímismo, las personas
                        interesadas pueden ejercer los derechos de afectado/a mediante escrito a la Subdirecciónde
                        Planificación, Innovación y Recursos Humanos del Consorcio para la Formación Continua de
                        Cataluña, calle Llull, 297-307, 4.ª planta, 08019 Barcelona, o a la dirección de correo
                        electrónico lopd@conforcat.cat.1.Autorizo al Consorcio para la Formación Continua de
                        Cataluña a verificar el grado de discapacidad mediante el certificado queel Departamento de
                        Acción Social y Ciudadanía emite a través de la aplicación informática
                        PICA.2.Trabajadores/oras incluidos/das enlos grupos de cotización de la Seguridad Social: 6,
                        7, 9 y 10, o nivel de estudios igual o inferior a ESO para trabajadores/oras
                        desocupados/das.3.Consignad el código de acuerdo con la relación siguiente:RG
                        RégimengeneralEH Trabajadores/as del hogarFD Fijos discontinuos en periodosde no-ocupaciónDF
                        Trabajadores/as que acceden al paro durante el periodoformativoRE Regulación de ocupación en
                        periodosde no-ocupaciónAGP Régimenespecial agrariopor cuenta propiaRLE Trabajadores/as
                        conrelaciones laborales de carácter especial (reguladas por artículo2del estatuto de
                        Trabajadores)AGA Régimenespecial agrariopor cuenta ajenaCESS Trabajadores/as con convenio
                        especial con la Seguridad SocialAU Régimen especial de autónomosTM Trabajadores/ras
                        (incluidos/as al régimenespecial del marCP Mutualistas de Colegios Profesionales no
                        incluidoscomoautónomosAP AdministraciónpúblicaFDI Trabajadores/as a tiempo parcial de
                        carácter indefinido con Trabajo discontinuo) y en periodosde no-ocupació</p>

                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                        <label class="form-check-label" for="flexCheckDefault">
                            Declaro que he sido informado por parte de la entidad de que el curso para el cual
                            solicito la inscripción forma parte de losprogramas de formación profesional para la
                            ocupación dirigidos prioritariamente a personas trabajadoras ocupadas, subvencionados
                            por el Consorcio para la Formación de Cataluña
                        </label>
                    </div>

                    <br>


                    <div class="col-12">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                            <label class="form-check-label" for="invalidCheck">
                                Acepto los términos y condiciones
                            </label>
                            <div class="invalid-feedback">
                                Debe estar de acuerdo antes de enviar.
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <br>
                        <input class="btn btn-primary" type="submit" value="Enviar">
                        <input class="btn btn-secondary" type="reset" value="Limpiar Formulario">
                    </div>
    </div>
    </div>
    </div>
    <p>Click the button to create a new PDF document with</p>
    <button onclick="createPdf()">Create PDF</button>
</body>

<script>

    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (() => {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
        })
    })()

    const tyc = document.getElementById("condiciones");
    const enviar = document.getElementById("enviar");

    const cambiarCondiciones = () => tyc.checked ? enviar.disabled = false : enviar.disabled = true

    var alertPlaceholder = document.getElementById('liveAlertPlaceholder')
    var alertTrigger = document.getElementById('liveAlertBtn')


    const { PDFDocument, StandardFonts, rgb, degrees } = PDFLib

    async function createPdf() {
        //hemos hecho document.getElementById con el id de c/uno de los valores 
        //hemos corregidos unos id para hacer pruebas, como veras la mayoria de ellos se repiten eln el html 
        //no he cambiado todos los id del html porque faltan cosas del formulario, 
        //del 1 al 4 estan cambiado los id
        //objeto "datos"
        datos = {
            entidad: document.getElementById("entidad").value,
            expediente: document.getElementById("expediente").value,
            acformativa: document.getElementById("acformativa").value,
            ntrabajadores: document.getElementById("ntrabajadores").value,
            nombre: document.getElementById("nombre").value,
            nif: document.getElementById("nif").value,
            fnacimiento: document.getElementById("fnacimiento").value,
            genero: document.getElementById("genero").value,
            nass: document.getElementById("nass").value,
            domicilio: document.getElementById("domicilio").value,
            cp: document.getElementById("cp").value,
            poblacion: document.getElementById("poblacion").value,
            comarca: document.getElementById("comarca").value,
            email: document.getElementById("email").value,
            telefono: document.getElementById("telefono").value,
            movil: document.getElementById("movil").value,
        }


        vals = [
            {
                key: "entidad",
                x: 80,
                y: 736,
            },
            {
                key: "expediente",
                x: 435,
                y: 736,
            },
            {
                key: "denominacion",
                x: 80,
                y: 718,
            },
            {
                key: "numero",
                x: 435,
                y: 718,
            },
            {
                key: "nombre",
                x: 150,
                y: 685,
            },
            {
                key: "nif",
                x: 350,
                y: 685,
            },
            {
                key: "fecha",
                x: 80,
                y: 665,
            },
            {
                key: "genero",
                x: 170,
                y: 665,
            },
            {
                key: "nass",
                x: 240,
                y: 665,
            },
            {
                key: "poblacion",
                x: 350,
                y: 665,
            },
            {
                key: "domicilio",
                x: 80,
                y: 645,
            },
            {
                key: "cp",
                x: 260,
                y: 645,
            },
            {
                key: "comarca",
                x: 115,
                y: 632,
            },
            {
                key: "email",
                x: 146,
                y: 622,
            },
            {
                key: "telefono",
                x: 260,
                y: 622,
            },
            {
                key: "movil",
                x: 360,
                y: 622,
            },
        ]
            //hemos hecho otro objeto para empresa
            //esto lo dejo así hasta que los del formulario rellenen bien los campos y poder coger los id 
        entidad = {
            rsocial: "nmmmmmoioojdjdndfnfnddndf",
            sector: "aqui mismo",
            convenio: "ni idea",
            cif: "00000000k",
            ss: "088880000-12",
            trabajadores: "x",
            direccion: "lejos de aqui cerca de alla",
            cp: "08860",
            poblacion: "cornella",
            comarca: "baix del llobregat",
        }
        cord = [
            {
                key: "rsocial",
                x: 80,
                y: 310,
            },
            {
                key: "sector",
                x: 80,
                y: 293,
            },
            {
                key: "convenio",
                x: 410,
                y: 293,
            },
            {
                key: "cif",
                x: 80,
                y: 273,
            },
            {
                key: "ss",
                x: 200,
                y: 273,
            },
            {
                key: "trabajadores",
                x: 410,
                y: 273,
            },
            {
                key: "direccion",
                x: 80,
                y: 253,
            },
            {
                key: "cp",
                x: 80,
                y: 235,
            },
            {
                key: "poblacion",
                x: 140,
                y: 235,
            },
            {
                key: "comarca",
                x: 400,
                y: 235,
            }
        ]

        // Fetch an existing PDF document
        const url = './documento.pdf'
        const existingPdfBytes = await fetch(url).then(res => res.arrayBuffer())

        // Load a PDFDocument from the existing PDF bytes
        const pdfDoc = await PDFDocument.load(existingPdfBytes)

        // Embed the Helvetica font
        const helveticaFont = await pdfDoc.embedFont(StandardFonts.Helvetica)

        // Get the first page of the document
        const pages = pdfDoc.getPages()
        const firstPage = pages[0]

        // Get the width and height of the first page
        const { width, height } = firstPage.getSize()

        mySize = 10;
        myFont = helveticaFont;

        for (let i = 0; i < vals.length; i++) {
            firstPage.drawText(datos[vals[i].key], {
                x: vals[i].x,
                y: vals[i].y,
                size: mySize,
                font: myFont,
            })
        }
        for (let i = 0; i < cord.length; i++) {
            firstPage.drawText(empresa[cord[i].key], {
                x: cord[i].x,
                y: cord[i].y,
                size: mySize,
                font: myFont,
            })
        }


        //ESCRIBO LAS X en el bloque de opciones 1
        //el formulario nos enviará un valor de 1 a 12 
        let sel_opt_1 = document.getElementById('floatingSelect').value;
        //Delcaro un objeto coordenadas para el bloque de opciones 1
        //al principio será vacío
        //let sel_opt_1 = 4

        let coord = {}

        switch (sel_opt_1){
                case 1: //Oficina de Trabajo (OT)
                coord = {
                    x: 84,
                    y: 602,
                }
                break;
            case 2: //Buscador de cursos del SOC
                coord = {
                    x: 245,
                    y: 602
                }
                break;
            case 3: //Twitter del Consorci @fpo_continua
                coord = {
                    x: 391,
                    y: 602
                }
                break;
            case 4: //Web del Consorci: conforcat.gencat.cat
                coord = {
                    x: 84,
                    y: 592
                }
                break;
            case 5: //Web: fp.gencat.cat
                coord = {
                    x: 245,
                    y: 592
                }
                break;
            case 6: //Twitter de Ocupación @ocupaciocat
                coord = {
                    x: 391,
                    y: 592
                }
                break;
            case 7: //Entidad de Formación LinkedIn
                coord = {
                    x: 84,
                    y: 581
                }
                break;
            case 8: //Amigos, amigas o familiares
                coord = {
                    x: 245,
                    y: 581
                }
                break;
            case 9: // Agentes económicos y sociales
                coord = {
                    x: 391,
                    y: 581
                }
                break;
            case 10: //Otros
                coord = {
                    x: 84,
                    y: 570
                }
                break;
            case 11: //Empresa
                coord = {
                    x: 245,
                    y: 570
                }
                break;
            case 12: //Prensa, radio, televisión ( medios comunicación)
                coord = {
                    x: 391,
                    y: 570
                }
            default:
                coord = {
                    x: 84,
                    y: 558
                }
        }
        firstPage.drawText("X", {
            x: coord.x,
            y: coord.y,
            size: 12,
            font: helveticaFont, 
        })
        
        //FORMACION ACADEMICA
        //SI COMENTAMOS DESDE LA 727 HASTA 792 NOS SALE TODO LO QUE TENEMOS HASTA AHORA
        //FALTA ESTA PARTE, AUN NO ESTA EL HTML DE FORMACION ACADEMICA
        /*let sel_opt_2 = document.getElementById('').value;   //falta  ID   
        let coord_2 = {}
        switch (sel_opt_2){
            case 1: //Sin titulacion
                coord_2 = {
                    x: 84,
                    y: 602,
                }
                break;
            case 2: //Titulo de graduado ESO
                coord_2 = {
                    x: 245,
                    y: 602
                }
                break;
            case 3: //Titulo bachillerato
                coord_2 = {
                    x: 391,
                    y: 602
                }
                break;
            case 4: //Titulo FP
                coord_2 = {
                    x: 84,
                    y: 592
                }
                break;
            case 5: //Titulo tecnico FP
                coord_2 = {
                    x: 245,
                    y: 592
                }
                break;
            case 6: //Titulo tecnico superior
                coord_2 = {
                    x: 391,
                    y: 592
                }
                break;
            case 7: //Estudios universitarios 1º ciclo
                coord_2 = {
                    x: 84,
                    y: 581
                }
                break;
            case 8: //Estudios universitarios 2º ciclo
                coord_2 = {
                    x: 245,
                    y: 581
                }
                break;
            case 9: // Otra titulacion
                coord_2 = {
                    x: 391,
                    y: 581
                }
                break;
            
        }
        firstPage.drawText("X", {
            x: coord_2.x,
            y: coord_2.y,
            size: 12,
            font: helveticaFont,         
        })
        //AREA FUNCIONAL
        let sel_opt_3 = document.getElementById('').value;   //falta  ID   
        let coord_3 = {}
        switch (sel_opt_3){
            case 1: //Sin titulacion
                coord_3 = {
                    x: 84,
                    y: 602,
                }
                break;
            case 2: //Titulo de graduado ESO
                coord_3 = {
                    x: 245,
                    y: 602
                }
                break;
            case 3: //Titulo bachillerato
                coord_3 = {
                    x: 391,
                    y: 602
                }
                break;
            case 4: //Titulo FP
                coord_3 = {
                    x: 84,
                    y: 592
                }
                break;
            case 5: //Titulo tecnico FP
                coord_3 = {
                    x: 245,
                    y: 592
                }
                break;
            case 6: //Titulo tecnico superior
                coord_3 = {
                    x: 391,
                    y: 592
                }
                break;
            case 7: //Estudios universitarios 1º ciclo
                coord_3 = {
                    x: 84,
                    y: 581
                }
                break;
            case 8: //Estudios universitarios 2º ciclo
                coord_3 = {
                    x: 245,
                    y: 581
                }
                break;
            case 9: // Otra titulacion
                coord_3 = {
                    x: 391,
                    y: 581
                }
                break;
            
        }
        firstPage.drawText("X", {
            x: coord_3.x,
            y: coord_3.y,
            size: 12,
            font: helveticaFont,         
        })*/


        // Serialize the PDFDocument to bytes (a Uint8Array)
        const pdfBytes = await pdfDoc.save()

        // Trigger the browser to download the PDF document
        download(pdfBytes, "resultado2.pdf", "application/pdf");
    }
</script>

</html>